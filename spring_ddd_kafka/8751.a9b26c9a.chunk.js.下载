(self.webpackChunklite=self.webpackChunklite||[]).push([[8751],{90194:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(67294),i=n(85432),o=n(27599),a=n(27572),l=n(28309),c=n(16139),s=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,s=e.buttonStyle,u=void 0===s?"STRONG":s,d=e.newsletterV3Id,m=e.showMailIcon,b=void 0===m||m,f=e.onClick,p=e.width,w=e.buttonText,E=void 0===w?"Get this newsletter":w,g=e.redirectUrl,h=(0,a.Qi)(),v=(0,o.Av)(),S=(0,l.Iq)();return r.createElement(i.zx,{buttonStyle:u,onClick:function(){v.event("newsletterV3.subscribeClicked",{newsletterV3Id:d,source:h}),f()},size:n,width:p,href:g},b&&r.createElement("span",{className:S((function(){return{marginRight:"8px"}})),"aria-hidden":"true"},r.createElement(c.Z,null)),E)}},31429:(e,t,n)=>{"use strict";n.d(t,{x:()=>$,B:()=>M});var r=n(67154),i=n.n(r),o=n(63038),a=n.n(o),l=n(28655),c=n.n(l),s=n(71439),u=n(67294),d=n(9972),m=n(90194),b=n(59713),f=n.n(b),p=n(46829),w=n(27599),E=n(85277);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){var e=c()(["\n  mutation unsubscribeNewsletterV3($newsletterV3Id: ID!) {\n    unsubscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return v=function(){return e},e}function S(){var e=c()(["\n  mutation subscribeNewsletterV3($newsletterV3Id: ID!, $shouldRecordConsent: Boolean) {\n    subscribeNewsletterV3(\n      newsletterV3Id: $newsletterV3Id\n      shouldRecordConsent: $shouldRecordConsent\n    )\n  }\n"]);return S=function(){return e},e}function y(){var e=c()(["\n  fragment useNewsletterV3Subscription_newsletterV3 on NewsletterV3 {\n    id\n    viewerEdge {\n      isSubscribed\n    }\n  }\n"]);return y=function(){return e},e}var x=(0,s.Ps)(y()),V=(0,s.Ps)(S()),O=(0,s.Ps)(v()),N=n(34675),C=n(62181),T=n(85432),I=n(25597),k=n(64504),R=n(27572),P=n(51512),_=n(14391),A=n(8403),j=n(67297),L=n(51064),B=n(27952),D=n(534);function U(){var e=c()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    type\n    user {\n      name\n    }\n    collection {\n      ...CollectionMetabar_collection\n      ...SusiClickable_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n    ...SusiClickable_newsletterV3\n    ...useNewsletterV3Subscription_newsletterV3\n    viewerEdge {\n      isSubscribed\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return U=function(){return e},e}var F="newsletter_v3_promo",M=(0,s.Ps)(U(),d.JE,C.Os,C.GB,D.Gi,x),$=function(e){var t,n,r,o,l=e.newsletterV3,c=e.buttonLayout,s=void 0===c?"MULTI-LINE":c,d=e.helperTextColor,b=void 0===d?"LIGHTER":d,f=e.showHelperText,g=void 0===f||f,v=e.showMailIcon,S=void 0===v||v,y=e.buttonSize,U=void 0===y?"LARGE":y,M=e.buttonStyle,$=void 0===M?"STRONG":M,G=e.redirectUrl,W=(0,N.Hk)().value,z=l.id,Y=l.collection?l.collection:void 0,q=l.user?l.user:void 0,H=(0,E.w)(),Q=(0,A.PM)(),K=(0,j.v9)((function(e){return e.config.productName})),X=(0,L.O)(!1),Z=a()(X,3),J=Z[0],ee=Z[1],te=Z[2];switch(l.type){case _.Rr.NEWSLETTER_TYPE_COLLECTION:n=l.name,r="Get this newsletter",o="You’re signed up for ".concat(n,".");break;case _.Rr.NEWSLETTER_TYPE_AUTHOR:n=null==q?void 0:q.name,r="Subscribe",o="You’re subscribed to ".concat(n)}var ne=function(e,t,n){var r=u.useState(n),i=a()(r,2),o=i[0],l=i[1],c=u.useState(!1),s=a()(c,2),d=s[0],m=s[1],b=(0,w.Av)(),f=(0,E.w)();d&&b.event("newsletterV3.subscribe.error",{newsletterV3Id:e});var g=(0,p.useMutation)(V,{variables:{newsletterV3Id:e,shouldRecordConsent:!1},onCompleted:function(e){var t=e.subscribeNewsletterV3;m(!t),t&&l(!0)},update:function(t,n){var r,i={id:"NewsletterV3:".concat(e),fragment:x,fragmentName:"useNewsletterV3Subscription_newsletterV3"},o=t.readFragment(i);t.writeFragment(h(h({},i),{},{data:h(h({},o),{},{isSubscribed:null===(r=n.data)||void 0===r?void 0:r.subscribeNewsletterV3})}))}}),v=a()(g,1)[0],S=(0,p.useMutation)(O,{variables:{newsletterV3Id:e},onCompleted:function(e){var n=e.unsubscribeNewsletterV3;m(!n),n&&(l(!1),f({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_UNSUBSCRIBE",extraParams:{newsletterName:t}}))},update:function(t,n){var r,i={id:"NewsletterV3:".concat(e),fragment:x,fragmentName:"useNewsletterV3Subscription_newsletterV3"},o=t.readFragment(i);t.writeFragment(h(h({},i),{},{data:h(h({},o),{},{isSubscribed:!(null!==(r=n.data)&&void 0!==r&&r.unsubscribeNewsletterV3)})}))}}),y=a()(S,1)[0];return{isSubscribed:o,hasError:d,setSubscribe:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(!1),t?v({variables:{newsletterV3Id:e,shouldRecordConsent:n}}):y()}}}(l.id,n,null===(t=l.viewerEdge)||void 0===t?void 0:t.isSubscribed),re=ne.isSubscribed,ie=ne.hasError,oe=ne.setSubscribe;u.useEffect((function(){if(Q){var e=(0,P.P7)(Q||"").susiEntry;["collection_newsletter_v3_landing","newsletter_v3_promo"].includes(void 0===e?"":e)&&re&&H({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:null==l?void 0:l.name,unsubscribeFn:function(){return oe(!1)}}})}}),[Q]);var ae=function(e){var t=e.children;return u.createElement(T.xu,{margin:"COMPACT"===s?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},le=function(e){var t=e.children;return u.createElement(T.xu,{maxWidth:"COMPACT"===s?"380px":"",margin:"COMPACT"===s?"10px 0 10px 0":"10px 0 0 0"},u.createElement(k.F,{scale:"S",color:b},t))},ce=function(){var e=(0,B.Zul)(z),t={buttonSize:U,buttonStyle:$,newsletterV3Id:l.id,onClick:function(){W&&(W&&W.allowEmailAddressSharingEditorWriter?oe(!0,!1):ee())},showMailIcon:S,buttonText:r,redirectUrl:G};return u.createElement(ae,null,W?u.createElement(u.Fragment,null,u.createElement(m.w,t),u.createElement(T.QH,{onConfirm:function(){return oe(!0,!0)},isVisible:J,hide:te,titleText:"Confirm your subscription to ".concat(n),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,isDestructiveAction:!1},"By confirming, you agree to share your email address with the editors of newsletters and writers you've subscribed to so they can stay in contact with you outside of ".concat(K,". You can opt out of sharing your email address by unsubscribing in your Settings."))):u.createElement(C.R9,{operation:"register",newsletterV3:l,collection:Y,actionUrl:e,susiEntry:F,redirectTo:G},u.createElement(m.w,i()({},t,{redirectUrl:void 0}))))};return u.createElement(u.Fragment,null,u.createElement(T.Yi,null,(function(e){return u.createElement(T.f6,{theme:(0,D.jN)(Y,e)},re?u.createElement(u.Fragment,null,u.createElement(ae,null,u.createElement(T.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return oe(!1)}},"Unsubscribe")),g&&u.createElement(le,null,o)):u.createElement(R.cW,{source:{newsletterV3Id:l.id},extendSource:!0},u.createElement(ce,null),g&&(W?u.createElement(le,null,"Emails will be sent to ",W.email,".",u.createElement(T.xu,null,u.createElement(C.R9,{operation:"login",newsletterV3:l,collection:Y,susiEntry:F},u.createElement(T.rU,{onClick:function(){},linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?")))):u.createElement(le,null,"You'll need to sign in or create an account to receive this newsletter."))))})),ie&&u.createElement(I.F,{toastStyle:"RETRYABLE_ERROR",isVisible:ie,hide:function(){}}))}},55346:(e,t,n)=>{"use strict";n.d(t,{QL:()=>A,Lh:()=>L});var r=n(28655),i=n.n(r),o=n(59713),a=n.n(o),l=n(63038),c=n.n(l),s=n(46829),u=n(71439),d=n(67294),m=n(90194),b=n(85432),f=n(28309),p={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},w=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},E=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,r=e.buttonStyle,i=void 0===r?"STRONG":r,o=(0,f.Iq)(),a=function(){var e=(0,f.om)({keyframesName:p}).keyframesName;return d.createElement("div",{className:o(w(e))})},l=function(){return d.createElement(b.xu,null,d.createElement(b.xu,{display:"inline-block",float:"left",marginRight:"8px"},d.createElement(a,null)),d.createElement(b.xu,{float:"left"},"Loading.."))};return d.createElement("div",{style:{cursor:"wait"}},d.createElement(b.zx,{buttonStyle:i,onClick:function(){return null},size:n,width:"207px",disabled:!0},d.createElement(l,null)))},g=n(90738),h=n(14414),v=n(31285),S=n(7462),y=n(64504),x=n(27572),V=n(37581),O=n(67297),N=n(49456),C=n(51299),T=n(27952),I=n(534);function k(){var e=i()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return k=function(){return e},e}function R(){var e=i()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return R=function(){return e},e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,i=(0,f.Fg)(),o=(0,x.pK)(),a=(0,x.hp)(),l=(0,O.v9)((function(e){return e.config.authDomain})),u=(0,O.v9)((function(e){return e.navigation.currentLocation})),p=(0,O.v9)((function(e){return e.config.productName})),w=d.useState(""),k=c()(w,2),R=k[0],P=k[1],A=d.useState(""),L=c()(A,2),B=L[0],D=L[1],U=d.useState(!1),F=c()(U,2),M=F[0],$=F[1],G=d.useState(!1),W=c()(G,2),z=W[0],Y=W[1],q=d.useState(!1),H=c()(q,2),Q=H[0],K=H[1],X=d.useState(!1),Z=c()(X,2),J=Z[0],ee=Z[1],te=d.useState(""),ne=c()(te,2),re=ne[0],ie=ne[1],oe="register",ae=null==u.match("http[s]?://[^/]*".concat(l)),le=r.collection,ce=r.id,se=r.slug,ue=(0,T.Zul)(ce),de=le?(0,T.iBn)(se,l,le):u;(0,s.useQuery)(v.qz,{fetchPolicy:"no-cache",skip:!ue||ae,onCompleted:function(e){var t=e.accountToken;return t&&ie((0,h.hQ)(de,o,a,ue,t))}});var me=function(e){P(e),$(!0),setTimeout((function(){return $(!1)}),S.zn),Y(!1),K(!1)},be=function(){(0,N.J)(B)?(K(!0),Y(!0)):me("Enter a valid email address.")},fe=function(){me("We couldn't process your request. Try again, or contact our support team.")},pe=(0,s.useMutation)(j,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":D(B),ee(!0);break;case"BadRequest":me("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:fe()}},onError:fe}),we=c()(pe,1)[0],Ee={newsletterV3Id:ce,email:B,operation:oe,redirect:re},ge=(0,C.U)();return d.createElement(b.f6,{theme:(0,I.jN)(le,i)},d.createElement(b.xu,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},d.createElement(g.k,{callback:function(e){we({variables:_({captchaValue:e},Ee)})},shouldExecuteRecaptcha:z}),d.createElement(b.xu,{display:J?"none":"inline"},d.createElement(b.xu,{alignItems:"center",display:"flex",justifyContent:"space-between",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",height:"130px",paddingTop:"16px"},height:"56px"},d.createElement(b.xu,{marginTop:R&&"25px",sm:{marginTop:"0"}},d.createElement(S.II,{errorMessage:R,handleInputChange:function(e){D(e.target.value.trim())},handleSubmit:be,input:B,inputType:S.n$.EMAIL,isAnimating:M,textAlign:"start",placeholder:"Your email",width:"".concat({xl:375,lg:375,md:325,sm:450,xs:200,"":200}[ge],"px")})),d.createElement(b.xu,{marginBottom:"auto",marginLeft:"15px",sm:{marginLeft:"0px",marginTop:"15px"}},Q?d.createElement(E,{newsletterV3Id:ce}):d.createElement(V.$,{eventData:{operation:oe}},d.createElement(m.w,{newsletterV3Id:ce,onClick:be})))),d.createElement(b.xu,{paddingTop:R&&"20px",marginTop:"10px",sm:{marginTop:"0"}},d.createElement(y.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",p," account if you don’t already have one. Review our"," ",d.createElement(b.rU,{href:(0,T.wob)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),d.createElement(b.xu,{display:J?"inline":"none",marginBottom:"15px",marginTop:"5px"},d.createElement(y.F,{color:"DARKER",scale:"M"},d.createElement("b",null,"Check your inbox"),d.createElement("br",null),p," sent you an email at ",B," to complete your subscription."))))},j=(0,u.Ps)(R()),L=(0,u.Ps)(k(),I.Gi,T.nfI)},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(63038),i=n.n(r),o=n(67294),a=n(28309),l=n(72955),c=function(){var e=(0,a.Fg)(),t=o.useState("lg"),n=i()(t,2),r=n[0],c=n[1],s=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return o.useEffect((function(){return s(),l.V6.on("resize",s),function(){return l.V6.off("resize",s)}}),[]),r}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8751.a9b26c9a.chunk.js.map